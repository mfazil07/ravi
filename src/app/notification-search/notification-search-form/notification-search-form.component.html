it('should populate states and handle claimantResidentState correctly when getUsStates is successful', () => {
  const mockStates = [
    { key: 'CA', value: 'California' },
    { key: 'TX', value: 'Texas' },
  ];
  const mockClaimantResidentState = [{ key: 'CA', value: 'California' }];
  const mockClaimantResidentCountry = [{ key: 'USA', value: 'United States' }];

  component.claimantResidentState = mockClaimantResidentState;
  component.claimantResidentCountry = mockClaimantResidentCountry;

  spyOn(component['commonService'], 'getUsStates').and.returnValue(of(mockStates));

  component.getUsStates();

  expect(component.states).toEqual(mockStates);
  expect(component.notificationSearch.frmSrchState).toEqual(mockClaimantResidentState);
  expect(component.prevSelectedStates).toEqual(mockClaimantResidentState);
});

it('should handle error when getUsStates fails', () => {
  const mockError = new HttpErrorResponse({ status: 500, statusText: 'Internal Server Error' });

  spyOn(component['commonService'], 'getUsStates').and.returnValue(throwError(() => mockError));
  spyOn(component, 'handleError');

  component.getUsStates();

  expect(component.handleError).toHaveBeenCalledWith(mockError);
});

it('should set mappedEvents to true when showButton is false', () => {
  component.showButton = false;

  component.getUsStates();

  expect(component.notificationSearch.mappedEvents).toBeTrue();
});

it('should not set mappedEvents when showButton is true', () => {
  component.showButton = true;

  component.getUsStates();

  expect(component.notificationSearch.mappedEvents).toBeUndefined();
});
