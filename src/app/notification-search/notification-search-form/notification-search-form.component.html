it('should update countries and states correctly when countryStateChange is called and response is successful', () => {
  const mockClaimantInfo = [
    {
      country: 'USA',
      mappedCountries: ['USA', 'Canada'],
      state: 'California',
      mappedStates: ['California', 'Texas'],
    },
  ];

  spyOn(component['claimantsWeatherAlertsService'], 'getClaimantInfo').and.returnValue(of(mockClaimantInfo));

  component.countryStateChange();

  // Debugging to verify values
  console.log('caseDetails:', component.caseDetails);
  console.log('claimantResidentCountry:', component.claimantResidentCountry);
  console.log('countriesComboboxData:', component.countriesComboboxData);
  console.log('states:', component.states);
  console.log('isUSAExist:', component.isUSAExist);

  // Check caseDetails
  expect(component.caseDetails).toEqual(mockClaimantInfo[0]);

  // Check claimantResidentCountry
  expect(component.claimantResidentCountry).toEqual([
    { key: 'USA', value: 'USA' },
    { key: 'Canada', value: 'Canada' },
  ]);

  // Check countriesComboboxData
  expect(component.countriesComboboxData).toEqual([
    { key: 'USA', value: '' },
    { key: 'Canada', value: '' },
  ]);

  // Check notificationSearch.frmSrchCountry
  expect(component.notificationSearch.frmSrchCountry).toEqual(component.countriesComboboxData);
  expect(component.prevSelectedCountries).toEqual(component.countriesComboboxData);

  // Check states
  expect(component.states).toEqual([
    { key: 'California', value: 'California' },
    { key: 'Texas', value: 'Texas' },
  ]);

  // Check notificationSearch.frmSrchState
  expect(component.notificationSearch.frmSrchState).toEqual(component.states);
  expect(component.prevSelectedStates).toEqual(component.states);

  // Check isUSAExist
  expect(component.isUSAExist).toBeTrue();
});
